var g=Object.defineProperty;var _=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var f=(t,e,l)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l,S=(t,e)=>{for(var l in e||(e={}))C.call(e,l)&&f(t,l,e[l]);if(_)for(var l of _(e))V.call(e,l)&&f(t,l,e[l]);return t};import{_ as N}from"./index.be2ad8d4.js";import{r as m,o as c,f as h,g as o,w as p,i,h as k,j as y,n as I,t as b}from"./vendor.2de7e29f.js";const x={data(){return{form:{select:!0,idCard:"",siteName:"",name:""},newSites:[],currentItem:0}},methods:{handleAdd(){this.newSites.push(this.form),this.handleSelect(this.newSites.length-1),localStorage.setItem("newSites",JSON.stringify(this.newSites))},handleUpdateAndTo(){this.newSites[this.currentItem]=this.form,localStorage.setItem("newSites",JSON.stringify(this.newSites)),this.$router.push({path:"./siteCode",query:this.form})},handleSelect(t){this.newSites.forEach(e=>{e.select=!1}),this.newSites[t].select=!0,this.currentItem=t,this.form=S({},this.newSites[t])},handleDelete(t){this.newSites.splice(t,1),localStorage.setItem("newSites",JSON.stringify(this.newSites))}},created(){this.newSites=JSON.parse(localStorage.getItem("newSites"))||[],this.newSites.length>0&&this.handleSelect(0)}},A={class:"form"},U={class:"footer"},J={class:"site-list"},O=["onClick"],j=["onClick"];function B(t,e,l,D,n,a){const v=m("van-nav-bar"),d=m("van-field"),u=m("van-cell-group");return c(),h("div",A,[o(v,{title:"\u5730\u70B9\u4FE1\u606F"}),o(u,{title:"\u7F16\u8F91\u5730\u70B9"},{default:p(()=>[o(d,{modelValue:n.form.siteName,"onUpdate:modelValue":e[0]||(e[0]=s=>n.form.siteName=s),label:"\u5730\u70B9\u540D",placeholder:""},null,8,["modelValue"]),o(d,{modelValue:n.form.name,"onUpdate:modelValue":e[1]||(e[1]=s=>n.form.name=s),label:"\u4EBA\u540D",placeholder:""},null,8,["modelValue"]),o(d,{modelValue:n.form.idCard,"onUpdate:modelValue":e[2]||(e[2]=s=>n.form.idCard=s),label:"\u8EAB\u4EFD\u8BC1\u53F7",placeholder:""},null,8,["modelValue"])]),_:1}),i("div",U,[i("div",{class:"add",onClick:e[3]||(e[3]=(...s)=>a.handleAdd&&a.handleAdd(...s))},"\u6DFB\u52A0"),i("div",{class:"alter",onClick:e[4]||(e[4]=(...s)=>a.handleUpdateAndTo&&a.handleUpdateAndTo(...s))},"\u8FDB\u5165")]),o(u,{title:"\u5386\u53F2\u5730\u70B9"},{default:p(()=>[i("div",J,[(c(!0),h(k,null,y(n.newSites,(s,r)=>(c(),h("div",{class:I(["item",{select:s.select}]),key:r},[i("div",{class:"site-name",onClick:w=>a.handleSelect(r)},b(s.siteName),9,O),i("div",{class:"delete",onClick:w=>a.handleDelete(r)},"\u5220\u9664",8,j)],2))),128))])]),_:1})])}var q=N(x,[["render",B],["__scopeId","data-v-1d7361c3"]]);export{q as default};
