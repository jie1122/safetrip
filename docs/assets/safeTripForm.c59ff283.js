var S=Object.defineProperty;var p=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var _=(s,e,l)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l,d=(s,e)=>{for(var l in e||(e={}))I.call(e,l)&&_(s,l,e[l]);if(p)for(var l of p(e))C.call(e,l)&&_(s,l,e[l]);return s};import{_ as b}from"./index.be2ad8d4.js";import{r as m,o as c,f as u,g as a,i,w as v,h as V,j as k,n as T,t as U}from"./vendor.2de7e29f.js";const y={data(){return{form:{select:!1,docTitle:"",welcom:"",plateNum:"",stationName:"",name:"",reachDate:"2020-03-23"},sites:[],currentItem:0}},methods:{handleAdd(){this.sites[this.currentItem]&&(this.sites[this.currentItem].select=!1),this.sites.push(d({},this.form)),localStorage.setItem("sites",JSON.stringify(this.sites))},handleUpdate(){this.sites[this.currentItem]=d({},this.form),console.log(this.form),localStorage.setItem("sites",JSON.stringify(this.sites)),document.title=this.form.docTitle,this.$router.push({path:"./safeTrip",query:this.form})},handleSelect(s,e){this.sites.forEach(l=>{l.select=!1}),this.sites[e].select=!0,this.currentItem=e,this.form=d({},s)},handleDelete(s){this.sites.splice(s,1),localStorage.setItem("sites",JSON.stringify(this.sites))}},created(){this.sites=JSON.parse(localStorage.getItem("sites"))||[],this.sites.length>0&&(this.sites.forEach(s=>{s.select=!1}),this.sites[0].select=!0,this.form=d({},this.sites[0]))}},x={class:"form"},D={class:"footer"},w={class:"site-list"},J=["onClick"],O=["onClick"];function j(s,e,l,A,o,r){const g=m("van-nav-bar"),n=m("van-field"),f=m("van-cell-group");return c(),u(V,null,[a(g,{title:"\u5730\u70B9\u4FE1\u606F"}),i("div",x,[a(f,{title:"\u7F16\u8F91\u5730\u70B9"},{default:v(()=>[a(n,{modelValue:o.form.docTitle,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.docTitle=t),label:"\u9875\u9762\u6807\u9898",placeholder:""},null,8,["modelValue"]),a(n,{modelValue:o.form.welcom,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.welcom=t),label:"\u6B22\u8FCE\u8BED",placeholder:""},null,8,["modelValue"]),a(n,{modelValue:o.form.stationName,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.stationName=t),label:"\u8F66\u7AD9\u540D",placeholder:""},null,8,["modelValue"]),a(n,{modelValue:o.form.plateNum,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.plateNum=t),label:"\u8F66\u724C\u53F7",placeholder:""},null,8,["modelValue"]),a(n,{modelValue:o.form.reachDate,"onUpdate:modelValue":e[4]||(e[4]=t=>o.form.reachDate=t),label:"\u6765\u90D1\u65E5\u671F",placeholder:""},null,8,["modelValue"])]),_:1}),i("div",D,[i("div",{class:"add",onClick:e[5]||(e[5]=(...t)=>r.handleAdd&&r.handleAdd(...t))},"\u6DFB\u52A0"),i("div",{class:"alter",onClick:e[6]||(e[6]=(...t)=>r.handleUpdate&&r.handleUpdate(...t))},"\u8FDB\u5165")]),a(f,{title:"\u5386\u53F2\u5730\u70B9"},{default:v(()=>[i("div",w,[(c(!0),u(V,null,k(o.sites,(t,h)=>(c(),u("div",{class:T(["item",{select:t.select}])},[i("div",{class:"site-name",onClick:N=>r.handleSelect(t,h)},U(t.docTitle+"-"+t.stationName),9,J),i("div",{class:"delete",onClick:N=>r.handleDelete(h)},"\u5220\u9664",8,O)],2))),256))])]),_:1})])],64)}var q=b(y,[["render",j],["__scopeId","data-v-2171ca51"]]);export{q as default};
